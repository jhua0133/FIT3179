{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": "container",
  "height": "container",
  "background": "#E9F7E9",
  "data": {
    "url": "https://raw.githubusercontent.com/jhua0133/FIT3179/refs/heads/main/aus_visitors_by_country.csv",
    "format": {"type": "csv"}
  },
  "transform": [
    {
      "fold": ["China", "New Zealand", "USA", "UK", "Japan"],
      "as": ["Country", "Visitors"]
    },
    {"filter": {"selection": "CountrySelect"}}
  ],
  "selection": {
    "CountrySelect": {
      "type": "single",
      "fields": ["Country"],
      "bind": {
        "input": "select",
        "options": [null, "China", "New Zealand", "USA", "UK", "Japan"],
        "labels": ["Show All", "China", "New Zealand", "USA", "UK", "Japan"],
        "name": "Select Country: "
      }
    }
  },
  "layer": [
    {
      "mark": "line",
      "encoding": {
        "x": {"field": "Year", "type": "temporal", "axis": {"title": "Year"}},
        "y": {
          "field": "Visitors",
          "type": "quantitative",
          "axis": {"title": "Visitors in Millions"}
        },
        "color": {
          "field": "Country",
          "type": "nominal",
          "legend": {"title": "Country"},
          "scale": {
            "domain": ["China", "New Zealand", "USA", "UK", "Japan"],
            "range": ["hotpink", "blue", "green", "orange", "purple"]}
        },
        "tooltip": [
          {"field": "Year", "type": "temporal", "title": "Year"},
          {"field": "Country", "type": "nominal", "title": "Country"},
          {"field": "Visitors", "type": "quantitative", "title": "Visitors"}
        ]
      },
      "transform": [
        {
          "fold": ["China", "New Zealand", "USA", "UK", "Japan"],
          "as": ["Country", "Visitors"]
        },
        {"filter": {"selection": "CountrySelect"}}
      ],
      "selection": {
        "CountrySelect": {
          "type": "multi",
          "fields": ["Country"],
          "bind": {
            "input": "select",
            "options": [null, "China", "New Zealand", "USA", "UK", "Japan"],
            "labels": [
              "Show All",
              "China",
              "New Zealand",
              "USA",
              "UK",
              "Japan"
            ],
            "name": "Select Country: ",
            "multiple": true 
          }
        }
      }
    },
    {
      "mark": {
        "type": "text",
        "align": "left",
        "dx": 30,
        "dy": -15,
        "fontSize": 13,
        "fontStyle": "normal",
        "fontWeight": "normal",
        "color": "hotpink"
      },
      "encoding": {
        "x": {"datum": "2019-01-01", "type": "temporal"},
        "y": {"datum": 1.48, "type": "quantitative"},
        "text": {
          "value": "While other countries have remained relatively stable, China has seen a 368% increase in visitors from 2009 to 2019"
        }
      }
    }
  ]
}

